import{A as L,v as M,ap as C,au as R,as as H,B as c,f as l,E as e,w as o,at as I,aq as w,ar as W,av as X,e as r,g as a,h as i,d as Y,F as Z,X as j,W as G,Z as J,a4 as K,D as B,t as b,ao as O,aw as Q,V as tt,ax as et}from"./-ou12Yc7.js";import{_ as nt,a as ot}from"./CDHdNJZp.js";import{_ as at,a as st,b as rt}from"./PsPHymVo.js";import"./C2bHYaEW.js";const _t={class:"text-(--ui-text-muted)"},ut={class:"flex flex-wrap items-center gap-3 mt-4"},ft=L({__name:"[slug]",async setup(ct){var f,g,x;let n,_;const u=M(),{data:t}=([n,_]=C(()=>w(u.path,()=>W("posts").path(u.path).first(),"$n6r2E9lutY")),n=await n,_(),n);if(!t.value)throw R({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:p}=([n,_]=C(()=>w(`${u.path}-surround`,()=>X("posts",u.path,{fields:["description"]}))),n=await n,_(),n),m=((f=t.value.seo)==null?void 0:f.title)||t.value.title,d=((g=t.value.seo)==null?void 0:g.description)||t.value.description;return H({title:m,ogTitle:m,description:d,ogDescription:d}),(x=t.value.image)!=null&&x.src,(lt,v)=>{const S=O,A=K,D=G,P=nt,V=at,E=et,N=st,$=ot,q=rt,T=Q,z=I;return e(t)?(r(),c(z,{key:0},{default:o(()=>{var h,y,k,U;return[a(P,{title:e(t).title,description:e(t).description},{headline:o(()=>[a(S,B(e(t).badge,{variant:"subtle"}),null,16),v[0]||(v[0]=i("span",{class:"text-(--ui-text-muted)"},"Â·",-1)),i("time",_t,b(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[i("div",ut,[(r(!0),Y(Z,null,j(e(t).authors,(s,F)=>(r(),c(D,{key:F,to:s.to,color:"neutral",variant:"subtle",target:"_blank",size:"sm"},{default:o(()=>[a(A,B({ref_for:!0},s.avatar,{alt:"Author avatar",size:"2xs"}),null,16),J(" "+b(s.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),a(T,null,tt({default:o(()=>[a($,null,{default:o(()=>{var s;return[e(t)?(r(),c(V,{key:0,value:e(t)},null,8,["value"])):l("",!0),(s=e(p))!=null&&s.length?(r(),c(E,{key:1})):l("",!0),a(N,{surround:e(p)},null,8,["surround"])]}),_:1})]),_:2},[(U=(k=(y=(h=e(t))==null?void 0:h.body)==null?void 0:y.toc)==null?void 0:k.links)!=null&&U.length?{name:"right",fn:o(()=>[a(q,{links:e(t).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]}),_:1})):l("",!0)}}});export{ft as default};
